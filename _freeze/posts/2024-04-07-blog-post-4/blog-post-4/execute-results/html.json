{
  "hash": "b7fe22cf22923dae8e41440952132fef",
  "result": {
    "markdown": "---\ntitle: \"blog post 4\"\nauthor: \"\"\ndate: \"2024-04-07\"\ndate-modified: \"2024-04-07\"\ndraft: FALSE\n---\n\n\n**Impact of Gender on Fatalities in Different States**\nThis plot focuses to explore the relationship between gender and fatalities across different states. This could help identify if certain states have more pronounced gender disparities in police-related fatalities.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nprc <- read_csv(\"dataset/police_fatalities.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 12491 Columns: 12\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): Name, Gender, Race, Date, City, State, Manner_of_death, Armed\ndbl (2): UID, Age\nlgl (2): Mental_illness, Flee\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nprc %>%\n  na.omit() %>%\n  count(State, Gender) %>%\n  ggplot(aes(x = reorder(State, n), y = n, fill = Gender)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Police Fatalities by State and Gender\",\n       x = \"State\",\n       y = \"Number of Fatalities\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_fill_brewer(palette = \"Set2\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n**Yearly Trend of Police Fatalities by Race**\nThis plot the trend of police fatalities over the years, broken down by race. This can show if certain races have been more affected over time and how the trends have changed.\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(readr)\n\npolice_data_clean <- read_csv(\"dataset/police_fatalities.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 12491 Columns: 12\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): Name, Gender, Race, Date, City, State, Manner_of_death, Armed\ndbl (2): UID, Age\nlgl (2): Mental_illness, Flee\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nannual_trends_by_race <- police_data_clean %>%\n  mutate(Date = dmy(Date), Year = year(Date)) %>%\n  drop_na(Year, Race) %>%\n  count(Year, Race) %>%\n  spread(key = Race, value = n, fill = 0) %>%\n  gather(key = 'Race', value = 'Fatalities', -Year)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `Date = dmy(Date)`.\nCaused by warning:\n!  7488 failed to parse.\n```\n:::\n\n```{.r .cell-code}\nannual_trends_by_race %>%\n  ggplot(aes(x = Year, y = Fatalities, color = Race)) +\n  geom_line() + \n  geom_point() + \n  labs(title = \"Yearly Trend of Police Fatalities by Race\",\n       x = \"Year\",\n       y = \"Number of Fatalities\") +\n  theme_minimal() +\n  scale_color_brewer(palette = \"Set1\") +\n  theme(legend.title = element_blank()) \n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::",
    "supporting": [
      "blog-post-4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}